<link rel="import" href="../paper-input/paper-input.html">
<link rel="import" href="../paper-icon-button/paper-icon-button.html">
<link rel="import" href="../icon-icons/iron-icons.html">
<link rel="import" href="../polymer/polymer.html">
<!--
  `<inbox-search></inbox-search>` Search  Inbox
  @demo demo.html
-->
<dom-module id="inbox-search">
  <template>
    <paper-icon-button prefix icon="search" on-tap="toggleSearching"></paper-icon-button>
    <template is="dom-if" if="[[searching]]">
      <div style="position:fixed;top:0px;background:#fff;display:block;left:0;right:0;z-index:11;color:black;">
        <paper-input label="[[label]]" value="{{value}}" on-blur="toggleSearching">
          <paper-icon-button prefix icon="arrow-back" on-tap="toggleSearching"></paper-icon-button>
          <template is="dom-if" if="[[value]]">
            <paper-icon-button suffix icon="clear" on-tap="clear"></paper-icon-button>
          </template>
        </paper-input>
        <content></content>
      </div>
    </template>
  </template>
</dom-module>
<script>
  Polymer({
    is: "inbox-search",
    properties:{
      value:{
        type:String,
        notify:true,
      },
      label:{
        type:String,
        value:"search",
      },
    },
    toggleSearching: function(){
      this.searching = !this.searching
      if (this.searching) {
        this.$$("paper-input").focus()
      } else {
        this.value = ""
      }
    },
    clear: function(){
      this.value = ""
    },
  })
</script>
